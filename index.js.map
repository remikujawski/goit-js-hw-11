{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst api = '6021301-359a47a130e708641e07d8eef';\nconst form = document.getElementById('search-form');\nconst searchbox = document.getElementById('searchbox');\nconst loader = document.querySelector('.loader');\nlet searchString = '';\n\nsearchbox.addEventListener('input', evt => {\n  searchString = evt.target.value.trim();\n});\n\nconst gallery = new SimpleLightbox('.list-item-sp a', {\n  scrollZoom: false,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst resetImages = () => {\n  const imagesToRemove = document.querySelectorAll('.list-item-sp');\n  if (imagesToRemove.length > 0) {\n    imagesToRemove.forEach(imageToRemove => {\n      imageToRemove.remove();\n    });\n  }\n};\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  if (searchString.length > 1) {\n    resetImages();\n    loader.classList.remove('hidden');\n    const searchStringProcessed = searchString.replaceAll(' ', '+');\n    fetch(\n      `https://pixabay.com/api/?key=${api}&q=${searchStringProcessed}&image_type=photo&orientation=horizontal&safesearch=true`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(images => {\n        loader.classList.add('hidden');\n        if (images.hits.length > 0) {\n          const containerGallery = document.querySelector('.portfolio-list');\n          const htmlString = images.hits\n            .map(\n              ({\n                previewURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n              }) => {\n                return `<li class=\"list-item-sp\"><a class=\"link\" href=\"${largeImageURL}\"><div class=\"card-image\"><img src=\"${previewURL}\" alt=\"${tags}\" width=\"360\" height=\"300\"/></div><div class=\"info-data\"><ul class=\"list details-list\"><li class=\"image-detail\"><span>Likes</span><br><span>${likes}</span></li><li class=\"image-detail\"><span>Comments</span><br><span>${comments}</span></li><li class=\"image-detail\"><span>Views</span><br><span>${views}</span></li><li class=\"image-detail\"><span>Downloads</span><br><span>${downloads}</span></div></li></ul></div></a></li>`;\n              }\n            )\n            .join('');\n\n          containerGallery.innerHTML = htmlString;\n          gallery.refresh();\n        } else {\n          iziToast.error({\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n      })\n      .catch(error => {\n        loader.classList.add('hidden');\n        console.log(error);\n        iziToast.error({\n          title: 'Error',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      });\n  } else {\n    iziToast.error({\n      title: 'Error',\n      position: 'topRight',\n      message: 'Please, enter at least one word - real word!',\n    });\n  }\n});\n"],"names":["api","form","searchbox","loader","searchString","evt","gallery","SimpleLightbox","resetImages","imagesToRemove","imageToRemove","searchStringProcessed","response","images","containerGallery","htmlString","previewURL","largeImageURL","tags","likes","views","comments","downloads","iziToast","error"],"mappings":"iyBAIA,MAAMA,EAAM,oCACNC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAe,GAEnBF,EAAU,iBAAiB,QAASG,GAAO,CACzCD,EAAeC,EAAI,OAAO,MAAM,KAAI,CACtC,CAAC,EAED,MAAMC,EAAU,IAAIC,EAAe,kBAAmB,CACpD,WAAY,GACZ,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAc,IAAM,CACxB,MAAMC,EAAiB,SAAS,iBAAiB,eAAe,EAC5DA,EAAe,OAAS,GAC1BA,EAAe,QAAQC,GAAiB,CACtCA,EAAc,OAAM,CAC1B,CAAK,CAEL,EAEAT,EAAK,iBAAiB,SAAUI,GAAO,CAErC,GADAA,EAAI,eAAc,EACdD,EAAa,OAAS,EAAG,CAC3BI,IACAL,EAAO,UAAU,OAAO,QAAQ,EAChC,MAAMQ,EAAwBP,EAAa,WAAW,IAAK,GAAG,EAC9D,MACE,gCAAgCJ,CAAG,MAAMW,CAAqB,0DAC/D,EACE,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAU,CAEd,GADAV,EAAO,UAAU,IAAI,QAAQ,EACzBU,EAAO,KAAK,OAAS,EAAG,CAC1B,MAAMC,EAAmB,SAAS,cAAc,iBAAiB,EAC3DC,EAAaF,EAAO,KACvB,IACC,CAAC,CACC,WAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAChB,IACuB,kDAAkDL,CAAa,uCAAuCD,CAAU,UAAUE,CAAI,+IAA+IC,CAAK,uEAAuEE,CAAQ,oEAAoED,CAAK,wEAAwEE,CAAS,wCAErgB,EACA,KAAK,EAAE,EAEVR,EAAiB,UAAYC,EAC7BT,EAAQ,QAAO,CACzB,MACUiB,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACd,CAAW,CAEX,CAAO,EACA,MAAMC,GAAS,CACdrB,EAAO,UAAU,IAAI,QAAQ,EAC7B,QAAQ,IAAIqB,CAAK,EACjBD,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QACE,0EACZ,CAAS,CACT,CAAO,CACP,MACIA,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QAAS,8CACf,CAAK,CAEL,CAAC"}